!function(T){Berserk.behaviors.header_init={attach:function(e,i){T(e).parent().find(".brk-header:not(.rendered)").addClass("rendered").each(function(){var c=T(this),a=c.find(".brk-header__main-bar"),n=a.data("height-scroll"),i=992,o=c.data("sticky-hide");T("body").width();if(T(".brk-header__top-bar").length){var s=c.find(".brk-header__top-bar_hide"),t=c.find(".brk-header__top-bar_scroll"),l=c.find(".brk-header__top-bar").data("top");function e(e){if(e<=(window.innerWidth||T(window).width())){if(s.length){var i=s.innerHeight()-l;if(T("body").hasClass("admin-bar")){var r=i-32;c.css("top","-"+r+"px")}else c.css("top","-"+i+"px")}}else c.css("top","0")}function r(e){if(1!==o)if(e<=(window.innerWidth||T(window).width())){if(t.length){var i=t.innerHeight()-l;if(0<T(this).scrollTop())if(T("body").hasClass("admin-bar")){var r=i-32;c.css("top","-"+r+"px")}else c.css("top","-"+i+"px");else T(this).scrollTop()<=0&&(T("body").hasClass("admin-bar")?c.css("top","32px"):c.css("top","0"))}}else c.css("top","0")}l=l||0,setTimeout(function(){e(i)},2e3),r(i),T(window).on("resize scroll",function(){e(i),r(i)})}function d(e){var i=window.innerWidth||T(window).width();if(n)var r=a.data("height-temp");c.hasClass("brk-header_not-fixed")||e<=i&&(0<T(this).scrollTop()?(c.addClass("brk-header_scroll"),n&&a.css("height",n+"px")):T(this).scrollTop()<=0&&(c.removeClass("brk-header_scroll"),n&&a.css("height",r+"px"))),0<T(this).scrollTop()?T(".brk-header-mobile").addClass("brk-header-mobile_scroll"):T(this).scrollTop()<=0&&T(".brk-header-mobile").removeClass("brk-header-mobile_scroll")}if(n&&a.data("height-temp",a.height()),d(i),T(window).scroll(function(){d(i)}),1===o){var h=0;setTimeout(function(){T(window).scroll(function(){var e=T(this).scrollTop(),i=!1,r=!1;0<e&&(h<e?(i=!1,e<c.height()+c.offset().top&&!1===r&&(c.addClass("brk-header_sticky-hide"),r=!0)):(r=!1,e>c.offset().top&&!1===i&&(c.removeClass("brk-header_sticky-hide"),i=!0)),h=e)})},2500)}var b=!1;function k(e){var i=window.innerWidth||T(window).width();if(i<e&&!b){c.wrap('<div class="brk-header-mobile-wrap"><div class="brk-header-mobile-wrap__body"></div></div>');var r=T(".brk-header-mobile-wrap"),a=T(".brk-header-mobile-wrap__body"),n=c.data("logo-src"),o=c.data("bg-mobile");a.prepend('<div class="brk-before"></div><div class="brk-header-mobile-wrap__header"><div class="brk-header-mobile-wrap__close"><span></span></div></div>'),""!==n&&T(".brk-header-mobile-wrap__header").prepend('<div class="brk-header-mobile-wrap__logo"><img src="'+n+'" alt=""></div>'),""!==o&&r.css("background-image","url("+o+")"),r.before('<div class="brk-header-mobile-wrap-layer"></div>'),b=!0}else e<=i&&b&&(T(".brk-header-mobile-wrap__header").detach(),T(".brk-header-mobile-wrap-layer").remove(),T(".brk-before, .brk-header-mobile-wrap__header").remove(),c.unwrap(),c.unwrap(),b=!1);var s=T(".brk-header-mobile"),t=s.find(".brk-header-mobile__open"),l=(r=T(".brk-header-mobile-wrap")).find(".brk-header-mobile-wrap__close"),d=T(".brk-header-mobile-wrap-layer");s.length&&t.click(function(){T("body").addClass("modal-open"),r.addClass("is-active"),d.addClass("is-active")}),r.length&&l.click(function(){T("body").removeClass("modal-open"),r.removeClass("is-active"),d.removeClass("is-active")})}k(i),T(window).resize(function(){k(i)});var v=!1;function p(e){var i=T(".brk-nav, .brk-header-popup-menu"),r=i.find(".brk-nav__children"),a=i.find(".brk-nav__menu > li").children("a"),n=i.find("a"),o=window.innerWidth||T(window).width();if(o<e&&!v){if(r.prepend('<div class="brk-nav__link-open"><i class="fa fa-angle-right"></i></div>'),T(".brk-nav__link-open").length){var s=T(".brk-nav__link-open");function t(){r.each(function(){var e=T(this),i=e.find(".brk-nav__link-open"),r=e.find("a").outerHeight();i.css("height",r)})}t(),0<s.length&&s.on("click",function(){var e=T(this),i=e.parent(),r=i.children(".brk-nav-drop-down");i.toggleClass("children-active"),e.toggleClass("is-active"),r.slideToggle(400),t()}),a.each(function(){var e=T(this),i=e.attr("href");"/"!==i&&("#"===i[0]&&1===i.length||"javascript:void(0)"===i||!i.length)&&e.on("click",function(e){e.preventDefault();var i=T(this).parent(),r=i.children(".brk-nav-drop-down"),a=i.children(".brk-nav__link-open");i.toggleClass("children-active"),a.toggleClass("is-active"),r.slideToggle(400),t()})})}n.each(function(){var e=T(this),r=e.attr("href");"#"===r[0]&&e.on("click",function(e){if(e.preventDefault(),T(r).length){var i=T(this).parents(".brk-header-mobile-wrap");T("body").removeClass("modal-open"),i.removeClass("is-active"),T(".brk-header-mobile-wrap-layer").removeClass("is-active")}})}),v=!0}else 0<T(".brk-nav__link-open").length&&e<=o&&v&&(T(".brk-nav__link-open").remove(),r.removeClass("children-active"),v=!1)}window.addEventListener("load",function(){p(i)}),T(window).resize(function(){p(i)}),T(".brk-nav__drop-down-effect").each(function(){var e=T(this),n=e.find(".dd-effect");e.on("mouseenter",function(){var e,i,r,a;e=n,i=10,a="left"===r?{opacity:0,left:10}:{opacity:0,left:-10},(e="left"===r?T(e.get().reverse()):e).css(a).each(function(e){T(this).delay(i*e).animate({opacity:1,left:0})})})}),T(".brk-quantity").find(".brk-quantity__arrows").click(function(){var e=T(this).parent().find(".brk-quantity__value"),i=e.val();T(this).hasClass("minus")&&1<i?e.val(+i-1):T(this).hasClass("plus")&&e.val(+i+1)});var f,_=T(".brk-info-menu"),m=T(".brk-info-menu-open"),u=_.find(".brk-info-menu__close"),w=window.innerWidth||T(window).width();function g(e,i,r,a){i=(e=T(e)).find(i),r=e.find(r);var n=window.innerWidth||T(window).width();n<a?i.unbind("click").on("click",function(){r.slideToggle(400)}):a<=n&&(i.unbind("click"),r.css("display",""))}function C(e){var i=window.innerWidth||T(window).width();i<e?T(".brk-lang:not(.brk-lang-rendered)").addClass("brk-lang-rendered").each(function(){var e=T(this),i=e.find(".brk-lang__open"),r=e.find(".brk-lang__option");e.unbind(),i.on("click",function(){r.slideToggle(300)})}).removeClass("brk-lang_interactive-rendered"):e<=i&&(T(".brk-lang_interactive:not(.brk-lang_interactive-rendered)").addClass("brk-lang_interactive-rendered").each(function(){var e=T(this),i=e.closest(".brk-header__top-bar, .brk-header__main-bar"),r=i.find(".container-fluid, .container"),a=i.find(".brk-header__item:not(.brk-lang_interactive)"),n=a.parents('[class*="col"]');i.css({height:i.outerHeight(),transition:"height .3s"}),e.hover(function(){a.css("opacity","0"),r.css("background","transparent !important"),i.addClass("top-bar-bg"),T("div").is(".brk-overlay")||c.after('<div class="brk-overlay"></div>'),n.css("border","0")},function(){a.css("opacity","1"),r.removeAttr("style"),i.removeClass("top-bar-bg"),T("div").is(".brk-overlay")&&T(".brk-overlay").remove(),n.css("border","")})}).removeClass("brk-lang-rendered"),T(".brk-lang__option").css("display",""),T(".brk-lang").find(".brk-lang__open").unbind("click"))}function y(){var r=window.innerWidth||T(window).width();T(".brk-mini-cart, .brk-social-links, .brk-search, .brk-lang, .brk-nav__sub-menu").each(function(){var e=T(this),i=r/2;e.offset().left+e.width()/2<i?e.removeClass("brk-location-screen-left brk-location-screen-right").addClass("brk-location-screen-left"):e.removeClass("brk-location-screen-left brk-location-screen-right").addClass("brk-location-screen-right")})}m.on("click",function(){_.toggleClass("active"),m.toggleClass("open-active"),i<=w&&T("body").toggleClass("modal-open")}),u.on("click",function(){_.hasClass("active")&&_.removeClass("active"),m.hasClass("open-active")&&m.removeClass("open-active"),i<=w&&T("body").hasClass("modal-open")&&T("body").removeClass("modal-open")}),T(document).on("click",function(e){T(e.target).closest(".brk-info-menu").length||T(e.target).closest(".brk-info-menu-open").length||(_.hasClass("active")&&_.removeClass("active"),m.hasClass("open-active")&&m.removeClass("open-active"),i<=w&&T("body").hasClass("modal-open")&&T("body").removeClass("modal-open")),e.stopPropagation()}),g(".brk-mini-cart",".brk-mini-cart__open, .brk-mini-cart__info-open",".brk-mini-cart__menu",i),g(".brk-social-links",".brk-social-links__open",".brk-social-links__block",i),g(".brk-search",".brk-search__open",".brk-search__block",i),T(window).resize(function(){g(".brk-mini-cart",".brk-mini-cart__open, .brk-mini-cart__info-open",".brk-mini-cart__menu",i),g(".brk-social-links",".brk-social-links__open",".brk-social-links__block",i),g(".brk-search",".brk-search__open",".brk-search__block",i)}),f=window.innerWidth||T(window).width(),i<=f&&T(".brk-search_interactive").each(function(){var e=T(this),i=e.parents(".brk-header__main-bar"),r=i.children(".container-fluid, .container"),a=e.find(".brk-search__open"),n=e.find(".brk-search__close"),o=e.find(".brk-search__block"),s=o.find('[type="search"]'),t=i.find(".brk-header__item:not(.brk-search_interactive)"),l=t.parents('[class*="col"]');a.on("click",function(){o.addClass("active"),r.addClass("position-relative"),t.hide(0),T(this).hide(0),T("div").is(".brk-overlay")||c.after('<div class="brk-overlay"></div>'),setTimeout(function(){s.focus()},150),l.css("border","0")}),n.on("click",function(){o.removeClass("active"),t.show(0),a.show(0),r.removeClass("position-relative"),T("div").is(".brk-overlay")&&T(".brk-overlay").remove(),l.css("border","")}),T(document).on("click",function(e){T(e.target).closest(".brk-header").length||(o.removeClass("active"),t.show(0),a.show(0),r.removeClass("position-relative"),T("div").is(".brk-overlay")&&T(".brk-overlay").remove(),l.css("border","")),e.stopPropagation()})}),window.addEventListener("load",function(){C(i)}),T(window).resize(function(){C(i)}),function(){if(0<T(".brk-header-popup-menu").length){c.after('<div class="brk-header-popup-menu-layer"></div>');var i=T(".brk-header-popup-menu").find(".brk-header-popup-menu__open-close"),r=T(".brk-header-popup-menu__menu"),a=T(".brk-header-popup-menu-layer"),n=r.find("a");0<T(".brk-header_vertical").length&&(T(".brk-header").append(r),r.addClass("brk-moved-by-js")),i.click(function(){T(this).toggleClass("is-active"),r.fadeToggle(300),a.fadeToggle(500)}),a.click(function(){var e=T(this);i.toggleClass("is-active"),r.fadeToggle(300),e.fadeToggle(500)}),n.each(function(){var e=T(this).attr("href");"#"===e[0]&&1<e.length&&T(e).length&&n.on("click",function(){i.removeClass("is-active"),r.fadeOut(300),a.fadeOut(500)})})}}(),T(".brk-totop").on("click",function(){T("html, body").stop().animate({scrollTop:0},500)}),window.addEventListener("load",function(){setTimeout(function(){y()},300)}),y(),T(window).resize(function(){y()})})}}}(jQuery);